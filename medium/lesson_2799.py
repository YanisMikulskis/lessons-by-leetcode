from collections import Counter
class Solution:
    '''
    Ð”Ð°Ð½ Ð¼Ð°ÑÑÐ¸Ð² nums, ÑÐ¾ÑÑ‚Ð¾ÑÑ‰Ð¸Ð¹ Ð¸Ð· Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ñ†ÐµÐ»Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ».

    ÐŸÐ¾Ð´Ð¼Ð°ÑÑÐ¸Ð² Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼, ÐµÑÐ»Ð¸:

    ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð² ÑÑ‚Ð¾Ð¼ Ð¿Ð¾Ð´Ð¼Ð°ÑÑÐ¸Ð²Ðµ Ñ€Ð°Ð²Ð½Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ñƒ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð²Ð¾ Ð²ÑÑ‘Ð¼ Ð¼Ð°ÑÑÐ¸Ð²Ðµ.
    ÐÐ°Ð¹Ð´Ð¸ Ð¸ Ð²ÐµÑ€Ð½Ð¸ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð»Ð½Ñ‹Ñ… Ð¿Ð¾Ð´Ð¼Ð°ÑÑÐ¸Ð²Ð¾Ð² Ð² nums.

    ðŸ“Œ ÐŸÐ¾Ð´Ð¼Ð°ÑÑÐ¸Ð² â€” ÑÑ‚Ð¾ Ð½ÐµÐ¿ÑƒÑÑ‚Ð¾Ð¹, Ð½ÐµÐ¿Ñ€ÐµÑ€Ñ‹Ð²Ð½Ñ‹Ð¹ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚ Ð¼Ð°ÑÑÐ¸Ð²Ð°.

    âœ… ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹:
    ÐŸÑ€Ð¸Ð¼ÐµÑ€ 1:

    Ð’Ñ…Ð¾Ð´: nums = [1, 3, 1, 2, 2]
    ðŸ” Ð’ÐµÑÑŒ Ð¼Ð°ÑÑÐ¸Ð² ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ 3 ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°: {1, 2, 3}
    ÐŸÐ¾Ð»Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ð¼Ð°ÑÑÐ¸Ð²Ñ‹ (Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ñ‚Ð¾Ð¶Ðµ 3 ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð¸ÑÐ»Ð°):

    [1, 3, 1, 2]
    [1, 3, 1, 2, 2]
    [3, 1, 2]
    [3, 1, 2, 2]
    ðŸ“¤ Ð’Ñ‹Ñ…Ð¾Ð´: 4


    '''
    def countCompleteSubarrays(self, nums: list[int]) -> int:

        if max(Counter(nums).values()) == len(nums):
            res = 0
            for i in range(1, len(nums) + 1):
                res += i
            return res

        uniq_elements = len(set(nums))
        result = 0
        for i in range(len(nums)):
            for j in range(i + uniq_elements - 1, len(nums)):
                subarray = nums[i:j + 1]
                if len(set(subarray)) == uniq_elements:
                    result += 1
        return result
sol = Solution()
# sol.countCompleteSubarrays([5,5,5,5])
sol.countCompleteSubarrays(nums = [1,3,1,2,2])